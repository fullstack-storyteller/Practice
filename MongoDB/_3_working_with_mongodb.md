# Working with MongoDB

## MongoDB Compass App

We can use the MongoDB Compass GUI application to work with MongoDB. The application is fairly self explanatory when you open it.

## MongoDB extension in VS Code and its shell commands

It is kind of the preferred way to work in MongoDB. Once installing the extension, open a new terminal and go to the following location `C:\Program Files\MongoDB\Server\5.0\bin` in command prompt.

After that you can run the command `mongo.exe` -> this will open the mongodb shell.

| Various Commands                                                                  | Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `show dbs` or `show databases`                                                    | shows all the databases in the server                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `use <database-name>`                                                             | creates a Database with name "\<database-name\>" or if the database already exists, it simply switches to it. However, the newly creates DB will not be visible unless you insert some document inside it. Make sure you see the message **"switched to db \<database-name\>"**                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `db`                                                                              | shows the current database you are using or working space DB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `db.dropDatabase()`                                                               | Here `db` refers to the current database. So this command will drop the current database and return result like `{"ok":1}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `db.createCollection("CollectionName")`                                           | This will create a new collection inside the current `db`. **Note**, This commands also allows the collection names to have space in between. This means, `db.createCollection("Peer Group")` is also valid. But Try to Avoid such a scenarios as drop commands to such collections may give some errors and you will need to drop such collections from GUI.                                                                                                                                                                                                                                                                                                                                                |
| `db.CollectionName.drop()`                                                        | This will drop the collection inside the current `db`. **Note**, the name of the collection is case sensitive. It returns `true` when collection is deleted successfully and `false` when deletion not successful.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `show collections`                                                                | This will show the list of collections inside the current `db`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `db.CollectionName.insertMany([{"key1":"value1",...},{"key2":"value2",...},...])` | Insert many documents at once in a collection "CollectionName". **Note**, the `insertMany()` will taken an array of elements to be inserted. `db` again points to to the current active DB. Every document that we insert wil have a unique key "\_id", which is unique and 24 characters. It will be similar to primary key in RDBMS. We can change the value of \_id but it is not recommended as MongoDB provides it by itself, so we don't needed to modify it. Examples, `db.Family.insertMany( [{"name": "Mira Kumari"}, {"fname": "Abhay", "mi": "K", "lname": "Singh",},])` -correct, `db.Family.insertMany( {"name": "Mira Kumari"}, {"fname": "Abhay", "mi": "K", "lname": "Singh",},)` -incorrect |
| `db.CollectionName.insertOne({"key1":"value1",...})`                              | Insert only one document in a collection "CollectionName". `db` again points to to the current active DB. Every document that we insert wil have a unique key "\_id", which is unique and 24 characters. It will be similar to primary key in RDBMS. We can change the value of \_id but it is not recommended as MongoDB provides it by itself, so we don't needed to modify it. Example, `db.Family.insertOne( {"name": "Mira Kumari"})`-correct, `db.Family.insertOne( [{"name": "Mira Kumari"}, {"fname": "Abhay", "mi": "K", "lname": "Singh",},])` - incorrect                                                                                                                                         |
